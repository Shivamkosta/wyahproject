

<!-- <?php include( 'include/admin-header.php'); ?> -->
<!DOCTYPE html>
<html>
   <head>
      <title>Wyahh</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- <link rel="icon" href="images/favicon.png" type="image/x-icon"> -->
      <!--  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="css/dataTables.bootstrap4.min.css">
      <link rel="stylesheet" type="text/css" href="css/admin.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="css/bootstrap-multiselect.css">
      <link href="css/select2.min.css" rel="stylesheet" />
      <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
      <link href="css/intlTelInput.css" rel="stylesheet" media="screen">
   </head>
   <div id="wrapper">
   <aside id="sidebar-wrapper" class="shadow1">
      <div class="sidebar-brand">
         <a href="dashboard">
         <img src="images/Image1.png" class="desktop-logo"></a>
      </div>
      <ul class="sidebar-nav">
         <li class="active">
            <a href="dashboard" class="hover"><i class="fa fa-dashboard"></i>Dashboard</a>
         </li>
         <li ><a href="manage-customer" class="hover"><i class="fa fa-address-card" ></i> My Account</a></li>

         <li>
            <a href="mypost" class="hover"><i class="fa fa-list-alt"></i>My Post</a>
         </li>
         <li>
            <a href="media" class="hover"><i class="fa fa-picture-o"></i>Media Library</a>
         </li>
         <li>
            <a href="terms" class="hover"><i class="fa fa-comments-o"></i>Terms and Conditions</a>
         </li>
    
 
  
      </ul>
   </aside>
   <div id="navbar-wrapper">
      <nav class="navbar navbar-inverse">
         <div class="container-fluid">
            <div class="header-cont d-flex justify-content-between">
               <div class="navbar-header">
                  <a href="#" class="navbar-brand" id="sidebar-toggle"><i class="fa fa-bars"></i>
                  <img src="images/icons/logo.png" class="mobile-logo"></a>
                  
               </div>
               <div class="head-right">
                  <ul>
                     <li class="border-rightss">
                       <span style="color: white;font-size: 18px;padding: 9px 2px 9px 15px; font-weight: 100;">Welcome John</span>
                        <div class="dropdown show">
  <a class="basic" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: white;">
    Basic Account <i class="fa fa-angle-down"></i>
  </a>

  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
    <a class="dropdown-item" href="#">Primary Account</a>
    <!-- <a class="dropdown-item" href="#">Another action</a>
    <a class="dropdown-item" href="#">Something else here</a> -->
  </div>
</div>
                     </li>
                     <li><a href="index.php" style="color: white;font-size: 18px;">Log Out</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </nav>
   </div>
<style type="">
  .progress{
  flex-wrap: wrap;
  height: 100%;
  justify-content: center;
}

.progress{
  flex-wrap: wrap;
  height: 100%;
  justify-content: center;
}
.timeslieder {
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 300px;
  height: 5px;
  padding: 0;
  border-radius: 2px;
  outline: none;
  cursor: pointer;
  margin: 10px 20px;
}

/*thumb*/
.timeslieder::-webkit-slider-thumb {
  -webkit-appearance: none;
  -moz-appearance: none;
  -webkit-border-radius: 5px;
  height: 16px;
  width: 16px;
  border-radius: 5px;
  background: #e7e7e7;
  border: 1px solid #c5c5c5;
}

.control-icon i{
  color:primary;
}
.control-icon {
  color:secondary!;
  cursor:pointer;
  transition: 1s;
}
.control-icon:hover {
  color:black;
}

/*FILE Upload*/
.file-upload {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    -ms-flex-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    position: relative;
    cursor: pointer;
    overflow: hidden;
    width: 60%;
    max-width: 100%;
    min-height: 20px;
    padding: 15px 10px;
    font-size: 1rem;
    text-align: center;
    color: #ccc;
    transition: 1s;
}
.file-upload:hover {
box-shadow: 0px 0px 65px -10px rgba(102,158,255,1);
}
.file-upload-wrapper .card.card-body input {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    height: 100%;
    width: 100%;
    opacity: 0;
    cursor: pointer;
    z-index: 5;
}
video {
  border: 1px solid black;
  display: block;
}
</style>

<!----------------COntent start-------------->
<section id="content-wrapper">
 
  <div class="container-fluid">
    <div class="row p-t-b-20">

      </div>
      <div class="col-md-12">
        <div class="form-card no-b">
          <div class="login-form-card">
            <div class="add_category head-div mb-20">
                <h3 class="add_name">Media Library</h3>
                
            </div>
            <div class="whats-new">
              <h3 class="whatsnew">Audio Upload</h3>
            </div>
            <div class="rows-body">
            <div class="row bg-light p-3 pb-4 border border-light rounded shadow">
         <!-- Default checked -->
         <div class="col-md-12 mb-3">
            <div class="custom-control custom-switch">
               <input type="checkbox" class="custom-control-input" id="audioUploadSwitch">
               <label class="custom-control-label font-weight-light" for="audioUploadSwitch">Disable upload and use default audio file</label>
            </div>
         </div>
         <div class="col-md-12">
            <div class="file-upload-wrapper">
               <div class="card card-body w-100 view file-upload">
                  <input type="file" id="audiofile" class="file_upload">
                  <p class="file-upload-infos-message">Audio upload - Drag and drop or click</p>
               </div>
            </div>
         </div>
         <div class="mx-auto">
            <audio id="track" src="" type="audio/mp3"></audio>
            <div class="player d-none" style="width:300px;">
               <div class="progress p-1">
                  <input id="timeslieder" class="timeslieder" type="range" value="0" min="0" max="100" step="0.001" />
                  <div class="time d-flex justify-content-around" style="width:100%;">
                     <span id="currentTime" style="width: 30px;">00:00:00</span>
                     <div id="pause" class="control-icon d-none"><i class="fas fa-pause"></i></div>
                     <div id="start" class="control-icon"><i class="fas fa-play"></i></div>
                     <div id="reset" class="control-icon"><i class="fas fa-redo-alt"></i></div>
                     <span id="duration">00:00:00</span>
                  </div>
                  <span><a class="text-decoration-none pt-1 pb-1" href="#" target="_blank">Link</a></span>
               </div>
            </div>
         </div>
      </div>
    </div>

       <div class="whats-new">
              <h3 class="whatsnew">Video Upload</h3>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="video-uploads">
                <input id="file-input" type="file" accept="video/*">

<video id="video" width="100%" height="300" controls></video>
              </div>
            </div>
            </div>
             <div class="whats-new">
              <h3 class="whatsnew">Image Upload</h3>
            </div>
            <div class="row">
                   <div class="col-md-12">
        
          <div class="form-group">
            <label  class="f-name">Upload File</label>
            <div class="preview-zone hidden">
              <div class="box box-solid">
                <div class="box-header with-border">
                  <div><b>Preview</b></div>
                  <div class="box-tools pull-right">
                    <button type="button" class="btn btn-danger btn-xs remove-preview">
                      <i class="fa fa-times"></i> X
                    </button>
                  </div>
                </div>
                <div class="box-body"></div>
              </div>
            </div>
            <div class="dropzone-wrapper">
              <div class="dropzone-desc">
                <i class="glyphicon glyphicon-download-alt"></i>
                <p>Choose an image file or drag it here.</p>
              </div>
              <input type="file" name="img_logo" class="dropzone">
            </div>
          </div>
          <div class="col-md-12">
          <button type="submit" class="btn btn-primary pull-right">Upload</button>
        </div>
        </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>




   <!------------Delete messege Modal Popup Start------->
<div class="modal fade in sp-map" id="modal-default2">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
          <h4 class="modal-title">Confirm</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true" style="font-size: 32px;">Ã—</span>
          </button>
                
      </div>
      <div class="modal-body">
        <div class="paper">
          <div class="row">
            <div class="col-md-12">
              <div class="container-fluid">
                                   <!--  <div class="login-form-content"> -->
                <form action="javascript:(0);">
                  <div class="row">
                      <p>Are you sure you want to Delete?</p>
                    <div class="col-md-6">
                        <button type="submit" class="buttons-action btn-block" >Yes</button>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                          <button type="submit" class="buttons-action btn-block" data-dismiss="modal">Cancel</button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
                  
                      <!-- </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

        <!--------------------Delete Message Modal Ends---------------->
</section>
 


<!-- <?php include( 'include/admin-footer.php'); ?> -->
<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
  <script src="js/bootstrap-multiselect.js"></script>
 <!--  <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script> -->
  <script src="js/jquery.dataTables.min.js"></script>
    <script src="js/select2.min.js"></script>
 <!--    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script> -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.js"></script>

<script type="">
  $("#audioUploadSwitch").change((e)=>{
  var value = e.target.checked;
  var sampleUrl = "https://upload.wikimedia.org/wikipedia/commons/f/f3/Anthem_of_Europe_%28US_Navy_instrumental_short_version%29.ogg";
  if(value == true){
    $("#track").attr("src", sampleUrl);
    document.getElementById("track").load();
    $("div.player").toggleClass('d-none');
    $(".file-upload-wrapper").toggleClass('d-none');
  }else{
    $("div.player").toggleClass('d-none');
    $(".file-upload-wrapper").toggleClass('d-none');
  }
});

/* upload audio file */
function handleFiles(event) {
    var files = event.target.files;
    $("#track").attr("src", URL.createObjectURL(files[0]));
    document.getElementById("track").load();
    console.log(event);
    $("div.player").toggleClass('d-none');
    $(".file-upload-wrapper").toggleClass('d-none');
}
document.getElementById("audiofile").addEventListener("change", handleFiles, false);

$('#track').each(function(index, audio) {
    $(audio).on('canplay', function() {
        console.log(audio.duration);
        $("#duration")[0].innerHTML = sec2time(audio.duration);
        $("#timeslieder")[0].max = audio.duration * 1000;
    });
});

/* start button */
$("#start").click(function() {
    $("#track")[0].play();
    $(this).toggleClass('d-none');
    $("#pause").toggleClass('d-none');
});
/* pause button */
$("#pause").click(function() {
    $("#track")[0].pause();
    $(this).toggleClass('d-none');
    $("#start").toggleClass('d-none');
});
/* reset button */
$("#reset").click(function() {
    $("#track")[0].load();
    $("#start").toggleClass('d-none');
    $("#pause").toggleClass('d-none');
});
/* timeupdate log */
$("#track")[0].addEventListener('timeupdate', function() {
    var currentTimeSec = this.currentTime;
    var currentTimeMs = this.currentTime * 1000;
    $("#currentTime")[0].innerHTML = sec2time(currentTimeSec);
    $("#timeslieder")[0].value = currentTimeMs;
    initRangeEl();
    var arrayTime = [sec2time(currentTimeSec), currentTimeMs];
    console.log(currentTimeMs);
}, false);

function sec2time(timeInSeconds) {
    var pad = function(num, size) {
            return ('000' + num).slice(size * -1);
        },
        time = parseFloat(timeInSeconds).toFixed(3),
        hours = Math.floor(time / 60 / 60),
        minutes = Math.floor(time / 60) % 60,
        seconds = Math.floor(time - minutes * 60),
        milliseconds = time.slice(-3);
    return pad(hours, 2) + ':' + pad(minutes, 2) + ':' + pad(seconds, 2);
}


/* timeline slieder */
function valueTotalRatio(value, min, max) {
    return ((value - min) / (max - min)).toFixed(2);
}

function getLinearGradientCSS(ratio, leftColor, rightColor) {
    return [
        '-webkit-gradient(',
        'linear, ',
        'left top, ',
        'right top, ',
        'color-stop(' + ratio + ', ' + leftColor + '), ',
        'color-stop(' + ratio + ', ' + rightColor + ')',
        ')'
    ].join('');
}

function updateRangeEl(rangeEl) {
    var ratio = valueTotalRatio(rangeEl.value, rangeEl.min, rangeEl.max);
    rangeEl.style.backgroundImage = getLinearGradientCSS(ratio, '#3b87fd', '#fffcfc');
}

function initRangeEl() {
    var rangeEl = document.getElementById("timeslieder");
    updateRangeEl(rangeEl);
    rangeEl.addEventListener("input", function(e) {
        updateRangeEl(e.target);
    });
}

$("#timeslieder")[0].addEventListener("input", function(e) {
    updateRangeEl(e.target);
    this.value = e.target.value;
    $("#track")[0].currentTime = e.target.value / 1000;
});
</script>
<script type="">
  const input = document.getElementById('file-input');
const video = document.getElementById('video');
const videoSource = document.createElement('source');

input.addEventListener('change', function() {
  const files = this.files || [];

  if (!files.length) return;
  
  const reader = new FileReader();

  reader.onload = function (e) {
    videoSource.setAttribute('src', e.target.result);
    video.appendChild(videoSource);
    video.load();
    video.play();
  };
  
  reader.onprogress = function (e) {
    console.log('progress: ', Math.round((e.loaded * 100) / e.total));
  };
  
  reader.readAsDataURL(files[0]);
});
</script>


<script type="">
  function readFile(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();

    reader.onload = function(e) {
      var htmlPreview =
        '<img width="200" src="' + e.target.result + '" />' +
        '<p>' + input.files[0].name + '</p>';
      var wrapperZone = $(input).parent();
      var previewZone = $(input).parent().parent().find('.preview-zone');
      var boxZone = $(input).parent().parent().find('.preview-zone').find('.box').find('.box-body');

      wrapperZone.removeClass('dragover');
      previewZone.removeClass('hidden');
      boxZone.empty();
      boxZone.append(htmlPreview);
    };

    reader.readAsDataURL(input.files[0]);
  }
}

function reset(e) {
  e.wrap('<form>').closest('form').get(0).reset();
  e.unwrap();
}

$(".dropzone").change(function() {
  readFile(this);
});

$('.dropzone-wrapper').on('dragover', function(e) {
  e.preventDefault();
  e.stopPropagation();
  $(this).addClass('dragover');
});

$('.dropzone-wrapper').on('dragleave', function(e) {
  e.preventDefault();
  e.stopPropagation();
  $(this).removeClass('dragover');
});

$('.remove-preview').on('click', function() {
  var boxZone = $(this).parents('.preview-zone').find('.box-body');
  var previewZone = $(this).parents('.preview-zone');
  var dropzone = $(this).parents('.form-group').find('.dropzone');
  boxZone.empty();
  previewZone.addClass('hidden');
  reset(dropzone);
});

</script>